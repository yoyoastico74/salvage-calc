<!-- pages/hauling.html ‚Äî V1.13.71 -->
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FRET ‚Äî Calculateur</title>

  <!-- Core theme (background + neon) -->
  <link rel="stylesheet" href="../assets/css/core.css" />

  
  <link rel="stylesheet" href="../assets/css/techbar-fixed.css?v=V1.0.0" />
<!-- Module styles (scoped) -->
  <link rel="stylesheet" href="../assets/css/hauling.css" />
</head>

<body class="page-hauling">
  <div class="page-wrap theme-neon">
    <div class="hauling-shell">

      <!-- Top actions -->
      <div class="top-actions">
        <a class="btn-pill" href="../index.html">‚Üê HUB</a>
        <a class="btn-pill btn-cyan" href="https://discord.gg/d3Q5RJ35gr" target="_blank" rel="noopener">DISCORD</a>
        <a class="btn-pill btn-strong" href="https://discord.com/channels/1428047802805653640/1453446130858852422" target="_blank" rel="noopener noreferrer">Support</a>
      </div>

      <!-- Hero -->
      <header class="hero-card">
        <h1 class="page-title">FRET</h1>
        <div class="page-subtitle">Routes et rentabilit√© fret (achat ‚Üí vente) ‚Äî PU 4.5</div>
      </header>

      <!-- Mode switch -->
      <div class="mode-switch" role="tablist" aria-label="Modes">
        <button id="tabBeginner" class="mode-tab is-active" type="button" role="tab" aria-selected="true" aria-controls="panelBeginner">Mode D√©butant</button>
        <button id="tabAdvanced" class="mode-tab" type="button" role="tab" aria-selected="false" aria-controls="panelAdvanced">Mode Avanc√©</button>
      </div>

      <!-- BEGINNER -->
      <section id="panelBeginner" class="mode-panel" role="tabpanel" aria-labelledby="tabBeginner">
        <div class="layout-2col">
          <!-- Parameters -->
          <div class="panel panel-strong">
            <div class="panel-head">
              <div class="panel-title">Param√®tres</div>
              <div id="manualBadge" class="pill-badge">MANUEL</div>
            </div>

            <div class="form-grid">
              <div class="field ship-field">
                <label for="shipSelect">Vaisseau</label>
                <select id="shipSelect" class="select native-select-hidden" aria-hidden="true" tabindex="-1">
                  <option value="">‚Äî</option>
                  <option value="custom">Custom</option>
                </select>

                <div class="ship-picker" data-select="shipSelect">
                  <button type="button" id="shipPickerTrigger" class="ship-picker-trigger" aria-haspopup="listbox" aria-expanded="false">‚Äî</button>
                  <div id="shipPickerMenu" class="ship-picker-menu is-hidden" role="listbox" aria-label="Liste vaisseaux">
                    <input id="shipPickerSearch" class="input ship-picker-search" type="text" placeholder="Rechercher un vaisseau..." autocomplete="off" />
                    <div id="shipPickerMeta" class="ship-picker-meta">Chargement...</div>
                    <div id="shipPickerList" class="ship-picker-list"></div>
                  </div>
                </div>

                <div class="hint">S√©lectionner un vaisseau remplit automatiquement le cargo (SCU).</div>
              </div>

              <div class="field" search-field">
                <label for="cargoScu">Cargo (SCU)</label>
                <input id="cargoScu" class="input" type="number" min="0" step="1" value="64" inputmode="numeric" />
              </div>

              <div class="field">
                <label for="cargoType">Type de cargo</label>
                <select id="cargoType" class="select select-compact native-select-hidden">
                  <option value="standard">Standard</option>
                  <option value="high">Haute valeur</option>
                  <option value="risky">Risque √©lev√©</option>
                </select>

                <div class="ship-picker cargo-type-picker" data-select="cargoType">
                  <button type="button" id="cargoTypePickerTrigger" class="ship-picker-trigger" aria-haspopup="listbox" aria-expanded="false">Standard</button>
                  <div id="cargoTypePickerMenu" class="ship-picker-menu is-hidden" role="listbox" aria-label="Type de cargo">
                    <div id="cargoTypePickerList" class="ship-picker-list"></div>
                  </div>
                </div>
              </div>

              <div class="field">
                <label for="loopMinutes">Temps (minutes)</label>
                <input id="loopMinutes" class="input" type="number" min="1" step="1" value="25" inputmode="numeric" />
                <div class="quick-row">
                  <button class="quick-btn" type="button" data-min="15">15 min</button>
                  <button class="quick-btn is-active" type="button" data-min="25">25 min</button>
                  <button class="quick-btn" type="button" data-min="40">40 min</button>
                </div>
              </div>

              <div class="field">
                <label for="buyPrice">Prix d‚Äôachat (aUEC / SCU)</label>
                <input id="buyPrice" class="input" type="number" min="0" step="1" value="1500" inputmode="numeric" />
              </div>

              <div class="field">
                <label for="sellPrice">Prix de vente (aUEC / SCU)</label>
                <input id="sellPrice" class="input" type="number" min="0" step="1" value="1750" inputmode="numeric" />
              </div>

              <div class="field">
                <label for="targetPerHour">Objectif (aUEC / h)</label>
                <input id="targetPerHour" class="input" type="number" min="0" step="1000" value="80000" inputmode="numeric" />
              </div>

              <div class="field actions">
                <button id="btnReset" class="btn" type="button">R√©initialiser</button>
              </div>
            </div>
          </div>

          <!-- Results -->
          <div class="panel panel-strong">
            <div class="panel-head">
              <div class="panel-title">R√©sultats (live)</div>
              <div id="statusChip" class="chip">OK</div>
            </div>

            <div class="kpi-grid">
              <div class="kpi">
                <div class="kpi-label">Investissement</div>
                <div id="kpiInvest" class="kpi-value">‚Äî</div>
              </div>
              <div class="kpi">
                <div class="kpi-label">Recette</div>
                <div id="kpiRevenue" class="kpi-value">‚Äî</div>
              </div>
              <div class="kpi">
                <div class="kpi-label">Profit / run</div>
                <div id="kpiProfit" class="kpi-value">‚Äî</div>
              </div>
              <div class="kpi kpi-accent">
                <div class="kpi-label">Profit / heure</div>
                <div id="kpiProfitHour" class="kpi-value">‚Äî</div>
              </div>
            </div>

            <div class="verdict-block">
              <div class="verdict-label">Verdict</div>
              <div id="verdictText" class="verdict-text">‚Äî</div>
              <div id="verdictMeta" class="verdict-meta">‚Äî</div>
              <div id="riskBadge" class="risk-badge is-hidden">‚ö† Risque</div>
            </div>
          </div>
        </div>
      </section>

      <!-- ADVANCED -->
      <section id="panelAdvanced" class="mode-panel is-hidden" role="tabpanel" aria-labelledby="tabAdvanced">
        <div class="layout-2col layout-advanced">
          <!-- Context -->
          <div class="panel panel-strong">
            <div class="panel-head">
              <div class="panel-title">Contexte</div>
            </div>

            <div class="form-grid">
              <div class="field ship-field">
                <label for="advShipSelect">Vaisseau</label>
                <select id="advShipSelect" class="select native-select-hidden" aria-hidden="true" tabindex="-1">
                  <option value="">‚Äî</option>
                  <option value="custom">Custom</option>
                </select>

                <div class="ship-picker" data-select="advShipSelect">
                  <button type="button" id="advShipPickerTrigger" class="ship-picker-trigger" aria-haspopup="listbox" aria-expanded="false">‚Äî</button>
                  <div id="advShipPickerMenu" class="ship-picker-menu is-hidden" role="listbox" aria-label="Liste vaisseaux">
                    <input id="advShipPickerSearch" class="input ship-picker-search" type="text" placeholder="Rechercher un vaisseau..." autocomplete="off" />
                    <div id="advShipPickerMeta" class="ship-picker-meta">Chargement...</div>
                    <div id="advShipPickerList" class="ship-picker-list"></div>
                  </div>
                </div>

                <div class="hint">SCU auto √† la s√©lection (hors Custom).</div>
              </div>

              <div class="field">
                <label for="advUsableScu">SCU utilisable</label>
                <input id="advUsableScu" class="input" type="number" min="0" step="1" value="0" inputmode="numeric" />
              </div>

              <div class="field">
                <label for="advBudget">Budget d‚Äôachat (aUEC)</label>
                <input id="advBudget" class="input" type="number" min="0" step="1000" value="500000" inputmode="numeric" />
                <div class="hint">Limite la quantit√© achetable (Qt√© = min(SCU, budget/prix achat)).</div>
              </div>

              <div class="field">
                <label for="advTarget">Objectif (aUEC/h)</label>
                <input id="advTarget" class="input" type="number" min="0" step="1000" value="80000" inputmode="numeric" />
              </div>

              <div class="field" id="advMaxLoopField">
                <label>Temps max boucle</label>
                <div class="quick-row">
                  <button class="quick-btn is-active" type="button" data-adv-min="20">20 min</button>
                  <button class="quick-btn" type="button" data-adv-min="30">30 min</button>
                  <button class="quick-btn" type="button" data-adv-min="45">45 min</button>
                  <button class="quick-btn" type="button" data-adv-min="0">Libre</button>
                </div>
              </div>

              <div class="field">
                <label>Tol√©rance au risque</label>
                <div class="quick-row">
                  <button class="quick-btn is-active" type="button" data-risk="low">Faible</button>
                  <button class="quick-btn" type="button" data-risk="mid">Normal</button>
                  <button class="quick-btn" type="button" data-risk="high">√âlev√©e</button>
                </div>
                <div id="advRiskHint" class="hint risk-hint">
                  Faible : privil√©gie la stabilit√© (moins de volatilit√©, meilleure dispo). Gain potentiel plus bas.
                </div>
              </div>

              <div class="field actions advanced-actions">
                <button id="advTopCalc" class="btn" type="button">Calculer</button>
                <button id="resetAdvanced" class="btn" type="button">R√©initialiser</button>
              </div>
            </div>
          </div>

          <!-- Goods -->
          <div class="panel panel-strong">
            <div class="panel-head panel-head-tools">
              <div class="panel-title">Marchandises (UEX)</div>
              <div class="tools-row">
<button id="advRefresh" class="btn btn-small" type="button">Rafra√Æchir</button>
                <span id="advMaj" class="hint">MAJ : ‚Äî</span>
                <input id="advMaxTerminals" type="number" value="90" style="display:none" />
              </div>
            </div>

            <div class="hint">
              <span id="advSourceState" class="chip chip-soft">‚Äî</span>
            </div>

            
            
            <!-- Advanced Route (A -> B) -->
            <div class="adv-route">
              <div class="subhead subhead-split">
                <span>Route (A ‚Üí B) ‚Äî Recherche terminaux</span>
                <span id="advTermCount" class="hint">Terminaux : ‚Äî</span>
              </div>

              <div class="route-grid">
                <div class="field">
                  <label for="advRouteFrom">D√©part</label>
                  <input id="advRouteFrom" class="input" type="text" placeholder="Tape pour rechercher‚Ä¶" autocomplete="off" list="advTerminalsDatalist" />
                </div>
                <div class="field">
                  <label for="advRouteTo">Arriv√©e</label>
                  <input id="advRouteTo" class="input" type="text" placeholder="Tape pour rechercher‚Ä¶" autocomplete="off" list="advTerminalsDatalist" />
                </div>
              </div>

              <datalist id="advTerminalsDatalist"></datalist>

              <div class="route-actions">
                <button id="advRouteAnalyze" class="btn" type="button">Analyser la route</button>
                <span id="advRouteStatus" class="hint">‚Äî</span>
              </div>
</div>

            <div id="advLockedBar" class="locked-bar is-hidden" aria-live="polite">
              <div class="locked-left">
                <span class="badge badge-lock">üîí Verrouill√©e</span>
                <span id="advLockedName" class="locked-name">‚Äî</span>
              </div>
              <button id="advUnlock" class="btn btn-small" type="button">D√©verrouiller</button>
            </div>

            <div class="subhead subhead-split subhead-top3">
              <span class="subhead-title">
                Top 3 conseill√©es
                <span class="info-dot info-dot-inline" tabindex="0" role="button" aria-label="Aide Top 3">!
                  <span class="info-tooltip" role="tooltip">
                    <div class="info-tooltip-title">Aide classement</div>
                    <ul class="info-tooltip-list">
                      <li><b>Score</b> : indice de classement (rendement + risque + disponibilit√©).</li>
                      <li><b>Variable</b> : niveau d‚Äôincertitude (stocks/prix). √âlev√© = plus volatile.</li>
                      <li><b>Tol√©rance au risque</b> : influence le classement (faible = plus stable).</li>
                      <li><b>Stocks faibles</b> : routes moins viables (quantit√© limit√©e).</li>
                      <li><b>UEX</b> : en cas de limite (429), un cooldown s‚Äôaffiche ici.</li>
                    </ul>
                  </span>
                </span>
              </span>
            </div>
<div id="top3Row" class="top3-row">
              <div class="empty">Chargement‚Ä¶</div>
            </div>

            <div class="subhead subhead-split">
              <span>Liste compl√®te</span>
              <span id="advCount" class="hint">‚Äî</span>
            </div>

            <div class="field">
              <input id="advSearch" class="input" type="text" placeholder="Rechercher une marchandise‚Ä¶" autocomplete="off" />
              <button id="advSearchClear" class="btn btn-ghost btn-icon" type="button" aria-label="Effacer la recherche" title="Effacer">√ó</button>
            </div>

            <div id="advGoodsList" class="goods-list" role="list">
              <div id="advGoodsEmpty" class="empty">Chargement‚Ä¶</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Bottom-right version tag -->
</div>
  </div>
<!-- Version footer (support) ‚Äî style MINING -->
<div class="version-footer page-hauling-version" id="versionFooter">
  <button id="versionToggle" class="version-bar" type="button" aria-expanded="false">
    <div class="version-main" id="versionMainText">FRET V1.13.71 ‚Ä¢ PU 4.5</div>
    <div class="version-cta">D√©tails</div>
  </button>

  <div id="versionDetails" class="version-details is-hidden">
    <div class="version-details-header">
      <div class="version-details-title">Versions techniques</div>
      <div class="version-details-actions"><button id="copyVersionsBtn" class="btn" type="button">Copier</button><button id="copyBugTemplateBtn" class="btn" type="button">Template bug</button><button id="copyDebugInfoBtn" class="btn" type="button">Infos debug</button></div>
    </div>

    <div class="version-grid" role="table" aria-label="Versions techniques FRET">
      <div class="version-col">
        <div class="version-k" role="cell">Module</div><div class="version-v" role="cell" id="tvModuleFret">‚Äî</div>
        <div class="version-k" role="cell">Core</div><div class="version-v" role="cell" id="tvCoreFret">‚Äî</div>
        <div class="version-k" role="cell">Ships</div><div class="version-v" role="cell" id="tvShipsFret">‚Äî</div>
      </div>

      <div class="version-col">
        <div class="version-k" role="cell">HTML</div><div class="version-v" role="cell" id="tvHtmlFret">‚Äî</div>
        <div class="version-k" role="cell">CSS</div><div class="version-v" role="cell" id="tvCssFret">‚Äî</div>
        <div class="version-k" role="cell">JS</div><div class="version-v" role="cell" id="tvJsFret">‚Äî</div>
      </div>

      <div class="version-col">
        <div class="version-k" role="cell">Worker</div><div class="version-v" role="cell" id="tvWorkerFret">‚Äî</div>
        <div class="version-k" role="cell">Contract</div><div class="version-v" role="cell" id="tvContractFret">‚Äî</div>
        <div class="version-k" role="cell">PU</div><div class="version-v" role="cell" id="tvPuFret">‚Äî</div>
      </div>
    </div>

    <div class="version-grid" style="margin-top:10px" role="table" aria-label="Sources techniques">
      <div class="version-col">
        <div class="version-k" role="cell">Endpoint</div><div class="version-v" role="cell" id="tvEndpointFret">‚Äî</div>
        <div class="version-k" role="cell">Source</div><div class="version-v" role="cell" id="tvSourceFret">‚Äî</div>
      </div>
    </div>

    <textarea id="versionsCopyBuffer" class="sr-only" aria-hidden="true"></textarea>
  </div>
</div>


  <script src="../assets/js/hauling.js"></script>
<script defer src="../assets/js/techbar.js?v=V1.0.0"></script>

<script defer src="../assets/js/support-tools.js?v=V1.0.0"></script>
</body>
</html>
