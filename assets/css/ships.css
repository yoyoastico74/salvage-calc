/* ships.css — Version V1.0.22_SPECS_ENRICH
   Module: VAISSEAUX (Ship Database)
   Scope: .page-ships only

   Patch goals (V1.0.2):
   - Fix "Techbar" (Versions techniques) layout:
     * Must be FIXED, centered, MINING-like (same as FRET/SALVAGE)
     * Must not sit in normal flow (bottom-left)
     * Must remain readable and clickable (high z-index)
   - Keep module styling neutral (inherits core cyan accent)
*/

/* IMPORTANT:
   Do NOT override --accent here.
   The page inherits HUB cyan from core.css.
*/

/* Shell: align with FRET layout constraints */
.page-ships .ships-shell{
  width: min(1600px, 96vw);
  margin: 0 auto;
  padding: 18px 0 34px;
}

.page-ships .ships-section{
  width: 100%;
  margin: 12px auto 0;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 18px;
}

@media (max-width: 980px){
  .page-ships .ships-section{
    grid-template-columns: 1fr;
  }
}

/* ============================
   Techbar (Versions techniques) — FIX (V1.0.2)
   Objective: same behavior as MINING-like footer used in FRET/SALVAGE.
============================ */
body.page-ships .version-footer{
  position: fixed;
  left: 50%;
  bottom: 14px;
  transform: translateX(-50%);
  width: min(980px, calc(100% - 28px));
  z-index: 9999;
  pointer-events: auto;
}

body.page-ships .version-bar{
  width: 100%;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;

  border-radius: 16px;
  padding: 10px 14px;
  cursor: pointer;

  background: rgba(10, 22, 34, .55);
  border: 1px solid rgba(70, 140, 170, .30);
  box-shadow: 0 0 0 1px rgba(0,0,0,.25), 0 10px 28px rgba(0,0,0,.22);
  backdrop-filter: blur(8px);
}

body.page-ships .version-bar:hover{
  border-color: rgba(70, 190, 210, .40);
}

body.page-ships .version-main{
  font-weight: 700;
  letter-spacing: .2px;
  color: rgba(255,255,255,.92);
  font-size: var(--font-sm);
}

body.page-ships .version-cta{
  font-size: var(--font-xs);
  color: rgba(120, 230, 255, .90);
  font-weight: 700;
}

body.page-ships .version-details{
  margin-top: 10px;
  border-radius: 16px;
  padding: 12px 14px;

  background: rgba(8, 18, 28, .62);
  border: 1px solid rgba(70, 140, 170, .25);
  box-shadow: 0 0 0 1px rgba(0,0,0,.22), 0 10px 26px rgba(0,0,0,.18);
  backdrop-filter: blur(10px);
}

body.page-ships .version-details-header{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

body.page-ships .version-details-title{
  font-weight: 800;
  color: rgba(255,255,255,.90);
  font-size: var(--font-sm);
}

body.page-ships .version-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px 16px;
}

body.page-ships .version-col{
  display:grid;
  grid-template-columns: 1fr auto;
  gap: 6px 10px;
}

body.page-ships .version-k{
  color: rgba(255,255,255,.70);
  font-size: var(--font-xs);
}

body.page-ships .version-v{
  color: rgba(255,255,255,.92);
  font-size: var(--font-xs);
  font-weight: 700;
}

body.page-ships .is-hidden{ display:none !important; }

@media (max-width: 820px){
  body.page-ships .version-grid{ grid-template-columns: 1fr; }
}

@media (max-width: 520px){
  body.page-ships .version-footer{
    width: calc(100% - 18px);
    bottom: 10px;
  }
}

/* Search block */
.page-ships .ships-search{
  margin-top: 6px;
}

.page-ships .ships-label{
  display:block;
  margin: 2px 0 8px;
  color: rgba(231,236,255,.88);
  font-weight: 900;
  letter-spacing: .02em;
}

.page-ships .ships-search-row{
  display:flex;
  gap: 10px;
  align-items:center;
}

.page-ships .ships-input{
  width: 100%;
}

.page-ships .ships-results{
  margin-top: 12px;
  display:flex;
  flex-direction: column;
  gap: 8px;
  max-height: 320px;
  overflow: auto;
  padding-right: 6px;
}

.page-ships .ships-result{
  position: relative; /* layering for hover/focus */
  z-index: 0;
  display:flex;
  flex-direction: column;
  gap: 4px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(231,236,255,.14);
  background: rgba(0, 22, 40, 0.26);
  cursor: pointer;
  transition: transform .08s ease, border-color .12s ease, background .12s ease;
}
/* Fix overlap: bring hovered/focused item above neighbors */
.page-ships .ships-result:hover,
.page-ships .ships-result:focus{
  z-index: 3;
}


.page-ships .ships-result:hover{
  border-color: color-mix(in srgb, var(--accent) 55%, rgba(231,236,255,.18));
  background: rgba(0, 22, 40, 0.32);
  transform: translateY(-1px);
}

.page-ships .ships-result:focus{
  outline: 2px solid color-mix(in srgb, var(--accent) 60%, transparent);
  outline-offset: 1px;
}

.page-ships .ships-result-title{
  font-weight: 950;
  letter-spacing: .02em;
  color: rgba(255,255,255,.94);
}

.page-ships .ships-result-sub{
  color: rgba(231,236,255,.72);
  font-size: 0.95rem;
}

/* Details */
.page-ships .ships-details-panel #shipCard{
  margin-top: 6px;
}

.page-ships .ship-card{
  border: 1px solid rgba(231,236,255,.14);
  background: rgba(0, 22, 40, 0.22);
  border-radius: 16px;
  padding: 14px 14px;
}

.page-ships .ship-card.is-empty{
  min-height: 220px;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  color: rgba(231,236,255,.70);
}

.page-ships .ship-name{
  font-size: 1.25rem;
  font-weight: 1000;
  letter-spacing: .04em;
  text-transform: uppercase;
  color: rgba(255,255,255,.95);
}

.page-ships .ship-meta{
  margin-top: 4px;
  color: rgba(231,236,255,.74);
}

.page-ships .ship-grid{
  margin-top: 12px;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

@media (max-width: 520px){
  .page-ships .ship-grid{
    grid-template-columns: 1fr;
  }
}

.page-ships .ship-field{
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(231,236,255,.12);
  background: rgba(0,0,0,.16);
}

.page-ships .ship-k{
  color: rgba(231,236,255,.70);
  font-weight: 800;
  font-size: 0.92rem;
}

.page-ships .ship-v{
  margin-top: 4px;
  font-weight: 950;
  color: rgba(255,255,255,.92);
}

.page-ships .ship-v.mono{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-weight: 850;
}

.page-ships .ship-locations{
  margin-top: 12px;
  padding-top: 12px;
  border-top: 1px solid rgba(231,236,255,.10);
}

.page-ships .ship-locations .ship-v{
  font-weight: 850;
}

/* Category filter — V1.0.4 (safe) */
.page-ships .ships-filter-row{
  margin-top: 10px;
  display:flex;
  flex-direction: column;
  gap: 6px;
}
.page-ships .ships-select{
  appearance: none;
  cursor: pointer;
}


/* --- V1.0.10 additions (UEX enrich: sales list) --- */
.ship-sales-ul{
  margin: 0;
  padding-left: 18px;
}
.ship-sales-ul li{
  margin: 6px 0;
  line-height: 1.25;
}

/* --- V1.0.12 (polish sales locations) ---
   Two-line items for readability:
   - Terminal on first line (strong)
   - Location/path on second line (muted)
*/
.ship-sales-ul li{
  list-style: disc;
}
.ship-sales-ul .sale-terminal{
  display:block;
  font-weight: 950;
  color: rgba(255,255,255,.92);
}
.ship-sales-ul .sale-place{
  display:block;
  margin-top: 2px;
  font-size: .92rem;
  color: rgba(231,236,255,.78);
  line-height: 1.2;
}
.ship-sales-more{
  margin-top: 8px;
  font-size: .9rem;
  opacity: .8;
}

/* --- V1.0.11 (UEX card layout fix) ---
   The JS now renders the ship card using:
   .ship-card-header, .ship-name, .ship-cat,
   .ship-grid, .ship-kv > .k/.v,
   .ship-sales, .ship-sales-title, .ship-sales-list
   Ensure clean two-column grid and readable sales list.
*/
.page-ships .ship-card{ padding: 12px 12px; }
.page-ships .ship-card-header{ display:flex; flex-direction:column; gap:6px; margin-bottom:10px; }
.page-ships .ship-name{ margin:0; font-weight:980; letter-spacing:.6px; line-height:1.05; }
.page-ships .ship-cat{ display:inline-flex; align-self:flex-start; padding:5px 10px; border-radius:999px;
  font-weight:850; font-size:.92rem; border:1px solid rgba(231,236,255,.14); background:rgba(0,22,40,.22); color:rgba(231,236,255,.92); }
.page-ships .ship-grid{ display:grid; grid-template-columns:1fr 1fr; gap:10px; align-items:stretch; }
@media (max-width: 620px){ .page-ships .ship-grid{ grid-template-columns:1fr; } }
.page-ships .ship-kv{ padding:10px 12px; border-radius:14px; border:1px solid rgba(231,236,255,.12); background:rgba(0,22,40,.16);
  min-height:54px; display:flex; flex-direction:column; justify-content:center; }
.page-ships .ship-kv .k{ font-size:.9rem; font-weight:800; color:rgba(231,236,255,.70); line-height:1.1; }
.page-ships .ship-kv .v{ margin-top:4px; font-weight:950; color:rgba(255,255,255,.92); line-height:1.2; word-break:break-word; }
.page-ships .ship-sales{ margin-top:14px; padding-top:12px; border-top:1px solid rgba(231,236,255,.12); }
.page-ships .ship-sales-title{ font-weight:900; margin-bottom:8px; color:rgba(231,236,255,.9); }
.page-ships .ship-sales-list{ display:block; }
.page-ships .ship-sales-list ul{ margin:0; padding-left:18px; }
.page-ships .ship-sales-list li{ margin:6px 0; line-height:1.25; color:rgba(231,236,255,.92); }
.page-ships .ship-sales-more{ margin-top:8px; font-size:.9rem; opacity:.8; }


/* --- V1.0.15 (Ship card polish / spacing harmonization) ---
   Goal: consistent spacing, typography and block rhythm in the details card.
   - Reduce "stuck together" feeling
   - Keep the existing glass/neon identity
*/
.page-ships .ship-card{
  padding: 16px 16px;
}

.page-ships .ship-card-header{
  gap: 10px;
  margin-bottom: 14px;
}

.page-ships .ship-name{
  font-size: clamp(1.25rem, 1.1rem + 1.0vw, 1.75rem);
  line-height: 1.15;
  letter-spacing: .4px;
}

.page-ships .ship-cat{
  padding: 6px 12px;
  font-size: .95rem;
  line-height: 1.05;
}

.page-ships .ship-grid{
  margin-top: 0;
  gap: 12px;
}

@media (min-width: 1200px){
  .page-ships .ship-grid{
    grid-template-columns: 1fr 1fr 1fr;
    gap: 12px;
  }
}

.page-ships .ship-kv{
  min-height: 66px;
  padding: 12px 14px;
}

.page-ships .ship-kv .k{
  font-size: .92rem;
  letter-spacing: .2px;
}

.page-ships .ship-kv .v{
  margin-top: 6px;
  line-height: 1.25;
}

/* Sales block: make it visually consistent with KV blocks */
.page-ships .ship-sales{
  margin-top: 16px;
  padding-top: 0;
  border-top: none;

  border: 1px solid rgba(231,236,255,.12);
  background: rgba(0, 22, 40, 0.16);
  border-radius: 14px;
  padding: 12px 14px;
}

.page-ships .ship-sales-title{
  margin-bottom: 10px;
  letter-spacing: .2px;
}

.page-ships .ship-sales-list li{
  margin: 6px 0;
  line-height: 1.35;
}


.page-ships .ship-card-header{
  min-height: 86px;
  gap: 10px;
  margin-bottom: 14px;
}

.page-ships .ship-name{
  margin: 0;
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

@media (max-width: 620px){
  .page-ships .ship-card-header{ min-height: 78px; }
}


/* --- V1.0.18 (Selected badge accent + remove redundant big title) ---
   - Ship name is shown in the badge under "Fiche vaisseau"
   - Details header keeps only the role pill for clarity
*/
.page-ships #shipSelectedBadge{
  border-radius: 999px;
  padding: 6px 12px;
  font-weight: 700;
  letter-spacing: .2px;

  background: rgba(0, 210, 255, .14);
  border: 1px solid rgba(0, 210, 255, .38);
  box-shadow: 0 0 0 1px rgba(0, 210, 255, .10) inset;
}

.page-ships .ship-card-header{
  margin-bottom: 14px;
  display: flex;
  align-items: flex-start;
  justify-content: flex-start;
}

.page-ships .ship-card-header .ship-cat{
  padding: 6px 12px;
  font-size: .95rem;
  line-height: 1.05;
}



/* Wider desktop layout (V1.0.14) */
@media (min-width: 1200px){
  .page-ships .ships-section{
    grid-template-columns: 520px 1fr;
    gap: 18px;
  }
}


.page-ships .ship-title{ min-width: 0; }

@media (min-width: 900px){
  .page-ships .ship-card-header{
    min-height: 92px;
    margin-bottom: 14px;
  }
  .page-ships .ship-name{
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
  }
}


/* --- V1.0.19 (Badge shows ship + role) ---
   - Badge now contains: "Name • Role"
   - Keep it readable and prevent ugly wrapping
*/
.page-ships #shipSelectedBadge{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;
}


/* --- Flight ready filter checkbox --- */
.filter-line{
  margin-top: 10px;
  padding: 6px 8px;
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
  background: rgba(0,0,0,0.12);
}
.checkbox{
  display:flex;
  gap:10px;
  align-items:center;
  cursor:pointer;
  user-select:none;
  font-size: 12.5px;
  color: rgba(255,255,255,0.88);
}
.checkbox input{
  width: 16px;
  height: 16px;
}
.checkbox span{
  line-height: 1.2;
}


/* --- Flight-ready toggle --- */
.ships-filter-row-compact{
  margin-top: 8px;
}
.ships-check{
  display:flex;
  gap:10px;
  align-items:center;
  padding: 8px 10px;
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 12px;
  background: rgba(0,0,0,0.12);
  cursor:pointer;
  user-select:none;
  font-size: 12.5px;
  color: rgba(255,255,255,0.88);
}
.ships-check input{
  width: 16px;
  height: 16px;
}
.ships-check span{
  line-height: 1.2;
}
