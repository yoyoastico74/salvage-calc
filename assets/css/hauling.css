/* assets/css/hauling.css — V1.13.79
   IMPORTANT: fichier complet (remplacement total)
   Objectif: conserver la "neon vibe" + compat UI FRET V1.14.3.
   NOTE: Typo delegated to core.css (no fixed px font sizes).
*/

.page-hauling{
  --neo-cyan: #00e6ff;
  --neo-cyan-soft: rgba(0,230,255,.22);
  --neo-cyan-softer: rgba(0,230,255,.14);
  --neo-teal: #00e6c3;

  --txt: rgba(235,242,255,.94);
  --txt-soft: rgba(235,242,255,.78);
  --txt-muted: rgba(235,242,255,.60);

  --bg-glass: rgba(0,0,0,.30);

  /* Harmonisation panels (plus proches Débutant) */
  --panel-bg: linear-gradient(180deg, rgba(10,18,28,.88), rgba(6,12,20,.94));
  --panel-border: rgba(0,230,255,.26);
  --panel-border-soft: rgba(0,230,255,.18);
  --panel-shadow: 0 18px 45px rgba(0,0,0,.28);
  --inner-glow: 0 0 0 1px rgba(0,230,255,.12) inset;

  /* Inputs & menus */
  --control-bg: rgba(0,0,0,.42);
  --control-border: rgba(0,230,255,.30);
  --control-border-focus: rgba(0,230,255,.55);
  --control-shadow: 0 0 0 1px rgba(0,230,255,.10) inset;

  /* Dropdown list styling (native select limitations) */
  --dropdown-bg: #0a141e;
  --dropdown-border: rgba(0,230,255,.28);

  /* Cards / list items */
  --card-bg: rgba(0,0,0,.28);
  --card-border: rgba(255,255,255,.10);
  --card-hover: rgba(0,230,255,.10);

  /* Accent KPI */
  --accent: var(--neo-cyan);
}

.page-hauling { color: var(--txt); }
.page-hauling .page-wrap{ min-height:100vh; }

/* Container */
.page-hauling .hauling-shell{
  width:100%;
  max-width:1180px;
  margin:0 auto;
  padding:18px 16px 90px;
  box-sizing:border-box;
}

/* ===== Hero ===== */
.hero-card{
  border-radius:18px;
  border:1px solid var(--panel-border);
  background: rgba(0,0,0,.28);
  backdrop-filter: blur(12px);
  padding:16px 16px 12px;
  text-align:center;
  box-shadow: var(--panel-shadow);
}

.page-title{
  margin:0;
  letter-spacing:2px;
  color: var(--neo-cyan);
  text-shadow: 0 0 18px rgba(0,230,255,.25);
}

.page-subtitle{
  margin-top:6px;
  color: rgba(255,255,255,.86);
  text-shadow: 0 1px 12px rgba(0,0,0,.75);
  opacity:.95;
}

/* ===== Mode switch ===== */
.mode-switch{
  margin:14px auto 16px;
  max-width:980px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
  padding:8px;
  border-radius:999px;
  border:1px solid var(--panel-border);
  background: rgba(0,0,0,.34);
  backdrop-filter: blur(12px);
  box-shadow: var(--inner-glow);
}

.mode-tab{
  border:0;
  border-radius:999px;
  padding:12px 14px;
  cursor:pointer;
  font-weight:900;
  color: rgba(255,255,255,.90);
  background: transparent;
  transition: background .15s ease;
}
.mode-tab.is-active{
  background: rgba(0,230,255,.24);
  box-shadow: var(--inner-glow);
}
.mode-panel.is-hidden{ display:none; }

/* ===== Layout ===== */
.layout-2col{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:18px;
  align-items:start;
}
.layout-advanced{ grid-template-columns:.95fr 1.05fr; }

@media (max-width:980px){
  .layout-2col{ grid-template-columns:1fr; }
  .page-title{ font-size: var(--font-xl); }
  .mode-switch{ gap:10px; }
}

/* ===== Panels ===== */
.panel{
  border-radius:18px;
  border:1px solid var(--panel-border);
  background: var(--panel-bg);
  backdrop-filter: blur(12px);
  padding:16px;
  box-shadow: var(--panel-shadow);
}
.panel-strong{ background: var(--panel-bg); }

.panel-head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-bottom:10px;
}
.panel-head-tools{ align-items:flex-start; }

.panel-title{
  font-size: var(--font-lg);
  font-weight:900;
  color: var(--neo-cyan);
  text-shadow: 0 0 14px rgba(0,230,255,.18);
}

.tools-row{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  justify-content:flex-end;
  align-items:center;
}

/* ===== Forms ===== */
.form-grid{ display:grid; gap:12px; }

.field label{
  display:block;
  margin-bottom:6px;
  font-size: var(--font-sm);
  color: var(--txt-soft);
}

.input, .select{
  width:100%;
  box-sizing:border-box;
  border-radius:14px;
  border:1px solid var(--control-border);
  background: var(--control-bg);
  color: var(--txt);
  padding:11px 12px;
  outline:none;
  box-shadow: var(--control-shadow);
  backdrop-filter: blur(10px);
  transition: border-color .15s ease, background .15s ease;
}

.input:focus, .select:focus{
  border-color: var(--control-border-focus);
  background: rgba(0,0,0,.50);
}

.select-compact{ max-width:50%; }

.hint{
  margin-top:6px;
  font-size: var(--font-xs);
  color: var(--txt-muted);
}

.quick-row{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:10px;
}

.quick-btn{
  border-radius:999px;
  border:1px solid var(--panel-border-soft);
  background: rgba(0,0,0,.30);
  color: rgba(255,255,255,.90);
  padding:8px 12px;
  cursor:pointer;
  font-weight:900;
  box-shadow: var(--inner-glow);
  transition: background .15s ease, border-color .15s ease;
}
.quick-btn:hover{ background: rgba(0,230,255,.10); border-color: rgba(0,230,255,.34); }
.quick-btn.is-active{
  background: rgba(0,230,255,.22);
  border-color: rgba(0,230,255,.42);
}

.actions{ display:flex; justify-content:flex-end; padding-top:6px; }

.btn{
  border-radius:14px;
  border:1px solid var(--panel-border-soft);
  background: rgba(0,0,0,.32);
  color: rgba(255,255,255,.92);
  padding:10px 14px;
  cursor:pointer;
  font-weight:900;
  box-shadow: var(--inner-glow);
  transition: background .15s ease, border-color .15s ease, transform .05s ease;
}
.btn:hover{ background: rgba(0,230,255,.14); border-color: rgba(0,230,255,.38); }
.btn:active{ transform: translateY(1px); }
.btn-small{ padding:8px 12px; font-size: var(--font-xs); }

/* ===== KPI ===== */
.kpi-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
  margin-top:8px;
}

.kpi{
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.28);
  padding:12px;
  box-shadow: 0 0 0 1px rgba(0,230,255,.06) inset;
}

.kpi-label{ font-size: var(--font-xs); color: var(--txt-muted); margin-bottom:4px; }
.kpi-value{ font-size: var(--font-lg); font-weight:900; color: rgba(255,255,255,.96); }

/* Profit/h en turquoise */
.kpi-accent{
  border-color: rgba(0,230,255,.20);
  box-shadow: 0 0 0 1px rgba(0,230,255,.12) inset, 0 0 18px rgba(0,230,255,.10);
}
.kpi-accent .kpi-value{ color: var(--accent); }

/* ===== Chips / badges ===== */
.chip, .pill-badge{
  border-radius:999px;
  padding:4px 10px;
  border:1px solid rgba(0,230,255,.20);
  background: rgba(0,0,0,.30);
  color: rgba(255,255,255,.90);
  font-weight:900;
  font-size: var(--font-xs);
  box-shadow: 0 0 0 1px rgba(0,230,255,.08) inset;
}
.chip-soft{ margin-left:10px; }

/* ===== Verdict ===== */
.verdict-block{
  margin-top:12px;
  padding-top:12px;
  border-top:1px solid rgba(255,255,255,.10);
}
.verdict-label{ font-size: var(--font-xs); color: var(--txt-muted); margin-bottom:6px; }
.verdict-text{ font-size: var(--font-md); font-weight:900; }
.verdict-meta{ margin-top:4px; font-size: var(--font-xs); color: var(--txt-muted); }

.risk-badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  border-radius:999px;
  padding:6px 10px;
  margin-top:10px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.28);
  color: rgba(255,255,255,.88);
  font-weight:900;
  font-size: var(--font-xs);
  box-shadow: 0 0 0 1px rgba(0,230,255,.08) inset;
}
.risk-badge.is-hidden{ display:none; }

/* ===== Advanced: goods ===== */
.subhead{
  margin-top:10px;
  font-size: var(--font-sm);
  font-weight:900;
  color: rgba(255,255,255,.88);
}
.subhead-split{
  display:flex;
  justify-content:space-between;
  align-items:baseline;
}

.top3-row{
  display:grid;
  grid-template-columns:1fr 1fr 1fr;
  gap:10px;
  margin:10px 0 14px;
}
@media (max-width:980px){
  .top3-row{ grid-template-columns:1fr; }
}

.top3-card{
  border-radius:16px;
  border:1px solid rgba(0,230,255,.18);
  background: rgba(0,0,0,.30);
  padding:12px;
  box-shadow: 0 0 0 1px rgba(0,230,255,.08) inset;
}
.top3-name{
  font-weight:900;
  margin-bottom:6px;
  color: rgba(255,255,255,.95);
}
.top3-card .hint{ color: rgba(255,255,255,.62); }

.goods-list{
  display:grid;
  gap:10px;
  max-height:420px;
  overflow:auto;
  padding-right:4px;
}

.goods-item{
  border-radius:16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.28);
  padding:12px;
  display:flex;
  justify-content:space-between;
  gap:12px;
  transition: background .15s ease, border-color .15s ease;
}
.goods-item:hover{
  background: rgba(0,230,255,.08);
  border-color: rgba(0,230,255,.20);
}

.goods-name{ font-weight:900; color: rgba(255,255,255,.96); }
.goods-code{ margin-top:4px; font-size: var(--font-xs); color: rgba(255,255,255,.62); }

.empty{
  border-radius:16px;
  border:1px dashed rgba(0,230,255,.22);
  background: rgba(0,0,0,.20);
  padding:14px;
  text-align:center;
  color: rgba(255,255,255,.70);
}

/* ===== Bottom version ===== */
.version-tag{
  position:fixed;
  right:18px;
  bottom:10px;
  display:flex;
  gap:10px;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid rgba(0,230,255,.18);
  background: rgba(0,0,0,.34);
  backdrop-filter: blur(10px);
  color: rgba(255,255,255,.78);
  font-size: var(--font-xs);
  text-shadow: 0 1px 10px rgba(0,0,0,.75);
  box-shadow: 0 0 0 1px rgba(0,230,255,.08) inset;
  z-index:20;
}


/* ===== Advanced: verrouillage marchandise ===== */
.locked-bar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin:10px 0 8px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(0,230,255,.22);
  background: rgba(0,0,0,.28);
  box-shadow: 0 0 0 1px rgba(0,230,255,.10) inset;
}
.locked-bar.is-hidden{ display:none; }
.locked-left{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.locked-name{ font-weight:900; color: rgba(255,255,255,.95); }
.badge-lock{
  border-color: rgba(0,230,255,.30);
  background: rgba(0,230,255,.12);
}
.goods-item{ cursor:pointer; }
.goods-item.is-locked{
  border-color: rgba(0,230,255,.32);
  box-shadow: 0 0 0 1px rgba(0,230,255,.14) inset, 0 0 18px rgba(0,230,255,.10);
}
.goods-item .goods-profit{ font-weight:900; color: var(--neo-cyan); }


/* Hide native selects used as state holders for custom pickers */
.native-select-hidden{display:none !important;}
/* ===== Ship Picker (custom dropdown) ===== */
.ship-picker{ position:relative; width:100%; }
.ship-picker-trigger{
  width:100%;
  text-align:left;
  border-radius:14px;
  border:1px solid var(--control-border);
  background: var(--control-bg);
  color: var(--txt);
  padding:11px 12px;
  outline:none;
  box-shadow: var(--control-shadow);
  backdrop-filter: blur(10px);
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.ship-picker-trigger::after{
  content:"";
  width:0; height:0;
  border-left:5px solid transparent;
  border-right:5px solid transparent;
  border-top:6px solid rgba(255,255,255,.70);
  margin-left:auto;
}
.ship-picker-trigger:hover{ border-color: rgba(0,230,255,.42); background: rgba(0,0,0,.50); }
.ship-picker-trigger:focus{ border-color: var(--control-border-focus); }

.ship-picker-menu{
  position:absolute;
  top: calc(100% + 8px);
  left:0;
  right:0;
  z-index: 50;
  border-radius:16px;
  border:1px solid rgba(0,230,255,.22);
  background: linear-gradient(180deg, rgba(10,18,28,.94), rgba(6,12,20,.98));
  box-shadow: 0 18px 45px rgba(0,0,0,.35), 0 0 0 1px rgba(0,230,255,.10) inset;
  padding:10px;
  backdrop-filter: blur(14px);
}
.ship-picker-menu.is-hidden{ display:none; }

.ship-picker-search{ margin-bottom:10px; }

.ship-picker-meta{
  font-size: var(--font-xs);
  color: rgba(235,242,255,.65);
  margin: 2px 2px 8px;
}

.ship-picker-list{
  max-height: 320px;
  overflow:auto;
  display:flex;
  flex-direction:column;
  gap:6px;
  padding-right:2px;
}

.ship-picker-item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:10px 10px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.24);
  cursor:pointer;
  user-select:none;
  transition: background .12s ease, border-color .12s ease;
}
.ship-picker-item:hover{
  background: rgba(0,230,255,.10);
  border-color: rgba(0,230,255,.22);
}
.ship-picker-item.is-selected{
  background: rgba(0,230,255,.16);
  border-color: rgba(0,230,255,.30);
  box-shadow: 0 0 0 1px rgba(0,230,255,.10) inset;
}
.ship-picker-name{ font-weight:900; color: rgba(255,255,255,.95); }
.ship-picker-scu{ font-weight:900; color: rgba(255,255,255,.80); }


/* === Advanced UX: cargo type picker + risk hint === */
.cargo-type-picker{ max-width: 50%; }
@media (max-width: 900px){ .cargo-type-picker{ max-width: 100%; } }

.risk-hint{
  margin-top: 10px;
  color: rgba(255,255,255,.72);
  font-size: var(--font-xs);
  line-height: 1.35;
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid rgba(0,230,255,.18);
  background: rgba(0,0,0,.22);
  box-shadow: 0 10px 26px rgba(0,0,0,.18);
}


/* ===== Advanced Route ===== */
.adv-route{
  margin: 10px 0 12px;
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(0,230,255,.18);
  background: rgba(0,0,0,.18);
  box-shadow: 0 0 0 1px rgba(0,230,255,.06) inset;
}
.route-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}
@media (max-width: 900px){
  .route-grid{ grid-template-columns: 1fr; }
}
.route-actions{
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap: 12px;
  margin-top: 8px;
}
.route-json{ margin-top: 10px; }
.json-box{
  margin-top: 8px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(0,230,255,.18);
  background: rgba(0,0,0,.22);
  color: rgba(235,242,255,.86);
  max-height: 220px;
  overflow:auto;
  font-size: var(--font-xs);
  line-height: 1.35;
}

/* Remove +/- spinners in number inputs */
.page-hauling input[type=number]::-webkit-outer-spin-button,
.page-hauling input[type=number]::-webkit-inner-spin-button{
  -webkit-appearance: none;
  margin: 0;
}
.page-hauling input[type=number]{
  -moz-appearance: textfield;
}


/* --- Hauling V1.9.9: Stability badges (best-effort) --- */
.stab-line{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
}
.stab-badge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: var(--font-xs);
  line-height: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.16);
  user-select:none;
}

.stab-label{
  margin-left: 2px;
  margin-right: 4px;
  font-size: var(--font-xs);
  color: var(--muted);
}
.stab-badge.is-ok{
  border-color: rgba(0,255,210,0.40);
  background: rgba(0,255,210,0.14);
  color: rgba(220,255,248,0.98);
  box-shadow: 0 0 10px rgba(0,255,210,0.18);
}
.stab-badge.is-mid{
  border-color: rgba(255,210,80,0.38);
  background: rgba(255,210,80,0.14);
  color: rgba(255,246,220,0.98);
  box-shadow: 0 0 10px rgba(255,210,80,0.12);
}
.stab-badge.is-low{
  border-color: rgba(255,150,60,0.40);
  background: rgba(255,150,60,0.14);
  color: rgba(255,240,232,0.98);
  box-shadow: 0 0 10px rgba(255,150,60,0.12);
}
.stab-badge.is-unk{
  opacity: 0.9;
  border-color: rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.18);
  color: rgba(231,236,255,0.88);
}


/* --- Hauling V1.10.6: Score color system --- */
.score-pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width: 28px;
  padding: 1px 8px;
  border-radius: 999px;
  font-weight: 700;
  font-size: var(--font-xs);
  line-height: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.22);
}
.score-high{ border-color: rgba(0,255,200,0.35); background: rgba(0,255,200,0.10); }
.score-mid{ border-color: rgba(255,255,255,0.20); background: rgba(255,255,255,0.08); }
.score-low{ border-color: rgba(255,190,80,0.35); background: rgba(255,190,80,0.10); }
.score-bad{ border-color: rgba(255,120,120,0.35); background: rgba(255,120,120,0.10); }

/* --- Hauling V1.10.6: widen left "Contexte (avancé)" --- */
@media (min-width: 981px){
  .layout-advanced{ grid-template-columns: 360px 1fr; }
}


/* ==============================
   Addons FRET (baseline) — V1.12.9
   - Badges Stabilité
   - Score color system (aliases)
   - Contexte (avancé) plus large
   - Versions techniques (bar + panel) centré, cliquable
   ============================== */

/* --- Stabilité badges --- */
.stab-line{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
}
.stab-badge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: var(--font-xs);
  line-height: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.22);
  user-select:none;
}
.stab-badge.is-ok{ border-color: rgba(0,255,200,0.28); background: rgba(0,255,200,0.08); }
.stab-badge.is-mid{ border-color: rgba(255,255,255,0.18); background: rgba(255,255,255,0.06); }
.stab-badge.is-low{ border-color: rgba(255,120,120,0.28); background: rgba(255,120,120,0.08); }
.stab-badge.is-unk{ border-color: rgba(255,255,255,0.10); background: rgba(0,0,0,0.18); opacity: 0.9; }

/* --- Score color system (pills) --- */
.score-pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  min-width: 28px;
  padding: 1px 8px;
  border-radius: 999px;
  font-weight: 900;
  font-size: var(--font-xs);
  line-height: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.22);
}

/* Legacy classes (kept) */
.score-high{ border-color: rgba(0,255,200,0.35); background: rgba(0,255,200,0.10); }
.score-mid{  border-color: rgba(255,255,255,0.20); background: rgba(255,255,255,0.08); }
.score-low{  border-color: rgba(255,190,80,0.35); background: rgba(255,190,80,0.10); }
.score-bad{  border-color: rgba(255,120,120,0.35); background: rgba(255,120,120,0.10); }

/* New aliases used by recent JS versions */
.score-good{ border-color: rgba(0,255,200,0.35); background: rgba(0,255,200,0.10); }
.score-mid2{ border-color: rgba(255,255,255,0.20); background: rgba(255,255,255,0.08); } /* optional */
.score-low2{ border-color: rgba(255,190,80,0.35); background: rgba(255,190,80,0.10); }  /* optional */

/* Common alias mapping */
.score-good, .score-mid, .score-low, .score-bad{}

/* --- Contexte (avancé) plus large (desktop) --- */
@media (min-width: 981px){
  .layout-advanced{ grid-template-columns: 360px 1fr; }
}

/* --- Versions techniques (bar + panel) — centered & clickable --- */
:root{ --hauling-css-version: "V1.13.79"; }

.techbar{
  position: fixed;
  left: 50%;
  bottom: 14px;
  transform: translateX(-50%);
  width: calc(100% - 28px);
  max-width: 980px;

  display:flex;
  justify-content: space-between;
  align-items:center;
  gap: 12px;

  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.35);
  backdrop-filter: blur(10px);
  box-shadow: 0 0 0 1px rgba(0,230,255,.08) inset;

  z-index: 9999;
  pointer-events: auto;
}
.techbar-left{ display:flex; gap:10px; align-items:baseline; flex-wrap:wrap; }
.techbar-title{ font-weight:900; letter-spacing:0.6px; color: rgba(255,255,255,.90); }
.techbar-sub{ opacity:0.88; font-size: var(--font-xs); }

.techbar button{ pointer-events:auto; }

.techpanel{
  position: fixed;
  left: 50%;
  bottom: 68px;
  transform: translateX(-50%);
  width: calc(100% - 28px);
  max-width: 980px;

  display:none;
  padding: 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.40);
  backdrop-filter: blur(10px);
  box-shadow: 0 0 0 1px rgba(0,230,255,.08) inset;

  z-index: 9999;
  pointer-events: auto;
}
.techpanel.open{ display:block !important; }

.techpanel-head{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
  margin-bottom:8px;
}
.techpanel-title{ font-weight:900; color: rgba(255,255,255,.92); }

.techpanel-pre{
  max-height: 240px;
  overflow:auto;
  margin:0;
  padding:12px 14px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(0,0,0,0.22);
  font-size: var(--font-xs);
  line-height: 1.35;
}

/* Small screens: allow full width, keep readable */
@media (max-width: 520px){
  .techbar{ max-width: none; }
  .techpanel{ max-width: none; }
}

/* IMPORTANT: we do not enforce global font sizes here.
   Core.CSS should own typography. */



/* V1.12.9: Versions techniques — layout "Mining-like" */
.techbar--mining{max-width:1100px}
.techbar-pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid rgba(0,230,255,.35);background:rgba(0,0,0,.22);box-shadow:0 0 0 1px rgba(0,230,255,.10) inset;font-weight:900}
.techbar-link{background:transparent;border:1px solid rgba(0,230,255,.25);color:rgba(180,245,255,.95);padding:6px 12px;border-radius:999px;cursor:pointer}
.techpanel--mining{max-width:1100px;padding:14px 14px 12px}
.techpanel[aria-hidden="true"]{display:none !important}
.techpanel-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}
.techpanel-header-right{display:flex;align-items:center;gap:10px}
.techgrid{display:flex;flex-direction:column;gap:10px}
.techrow{display:grid;grid-template-columns:110px 1fr 110px 1fr 110px 1fr;gap:8px 10px;align-items:center}
.techrow--full{grid-template-columns:110px 1fr}
.techk{opacity:.85}
.techv{font-weight:700}
.techv--mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-weight:600;opacity:.95;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.techjson{width:100%;margin-top:10px;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,0.12);background:rgba(0,0,0,0.18);color:rgba(255,255,255,.88);resize:none;min-height:110px;max-height:220px}

.techjson{display:none !important;}
@media (max-width:980px){.techrow{grid-template-columns:90px 1fr 90px 1fr}.techrow>:nth-child(n+5):nth-child(-n+6){display:none}}
@media (max-width:560px){.techrow{grid-template-columns:90px 1fr}}

.techgrid{display:flex !important;}
.techrow{display:grid !important;}


/* ============================
   Version footer (MINING-like)
   ============================ */
.page-hauling-version{
  width: min(980px, 100%);
  margin: 18px auto 22px;
  position: fixed;
  left: 50%;
  bottom: 14px;
  transform: translateX(-50%);
  z-index: 9999;
  pointer-events: auto;
}
.page-hauling-version .version-bar{
  width: 100%;
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;
  border-radius: 16px;
  padding: 10px 14px;
  cursor: pointer;

  background: rgba(10, 22, 34, .55);
  border: 1px solid rgba(70, 140, 170, .30);
  box-shadow: 0 0 0 1px rgba(0,0,0,25), 0 10px 28px rgba(0,0,0,22);
  backdrop-filter: blur(8px);
}
.page-hauling-version .version-bar:hover{
  border-color: rgba(70, 190, 210, .40);
}
.page-hauling-version .version-main{
  font-weight: 700;
  letter-spacing: .2px;
  color: rgba(255,255,255,92);
  font-size: var(--font-sm);
}
.page-hauling-version .version-cta{
  font-size: var(--font-xs);
  color: rgba(120, 230, 255, .90);
  font-weight: 700;
}
.page-hauling-version .version-details{
  margin-top: 10px;
  border-radius: 16px;
  padding: 12px 14px;

  background: rgba(8, 18, 28, .62);
  border: 1px solid rgba(70, 140, 170, .25);
  box-shadow: 0 0 0 1px rgba(0,0,0,22), 0 10px 26px rgba(0,0,0,18);
  backdrop-filter: blur(10px);
}
.page-hauling-version .version-details-header{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}
.page-hauling-version .version-details-title{
  font-weight: 800;
  color: rgba(255,255,255,90);
  font-size: var(--font-sm);
}
.page-hauling-version .version-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 10px 16px;
}
@media (max-width: 820px){
  .page-hauling-version .version-grid{ grid-template-columns: 1fr; }
}
.page-hauling-version .version-col{
  display:grid;
  grid-template-columns: 1fr auto;
  gap: 6px 10px;
}
.page-hauling-version .version-k{
  color: rgba(255,255,255,70);
  font-size: var(--font-xs);
}
.page-hauling-version .version-v{
  color: rgba(255,255,255,92);
  font-size: var(--font-xs);
  font-weight: 700;
  text-align:right;
}
.is-hidden{ display:none !important; }

/* screen reader only */
.sr-only{
  position:absolute !important;
  width:1px; height:1px;
  padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0);
  white-space:nowrap; border:0;
}


/* =========================================================
   V1.13.5 — Mode switch alignment (2K reference)
   Scope: Hauling ONLY
   Goal:
   - Center the capsule under the hero (like Salvage)
   - Make the 2 tabs visually balanced (50/50) inside the capsule
   Notes:
   - This only changes layout for the Mode switch.
   - Core.css keeps ownership of the shared look & active states.
   ========================================================= */

.page-hauling .mode-switch{
  width: min(980px, 100%);
  margin: 12px auto 16px;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 14px;
  flex-wrap: nowrap;
}

/* Balance the two tabs inside the capsule (avoid "stuck to edges" feel) */
.page-hauling .mode-switch .mode-tab{
  flex: 1 1 0;
  text-align: center;
  min-width: 0;
}


/* =========================================================
   V1.13.6 — Hide legacy non-functional "Versions techniques" menu (V1.12.9)
   Reason: FRET currently shows two version UIs. We keep ONLY the MINING-like footer (version-footer)
   and hide the legacy techbar/techpanel layer (often injected by older hauling.js builds).
   ========================================================= */
.page-hauling .techbar,
.page-hauling .techpanel{
  display: none !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* Stability badge — 5 levels (V1.13.7) */
.stab-badge.is-ok2{
  border-color: rgba(60,190,255,0.38);
  background: rgba(60,190,255,0.14);
  color: rgba(230,248,255,0.98);
  box-shadow: 0 0 10px rgba(60,190,255,0.16);
}
.stab-badge.is-low2{
  border-color: rgba(255,80,80,0.42);
  background: rgba(255,80,80,0.16);
  color: rgba(255,235,235,0.98);
  box-shadow: 0 0 12px rgba(255,80,80,0.16);
}

/* =========================================================
   Top 3 conseillées — card layout (V1.13.8)
   Reorder for readability: title+profit, route line, pills + stability badge.
   ========================================================= */
.top3-row{
  gap: 14px;
}

.top3-card{
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.top3-head{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
}

.top3-title{
  font-weight: 800;
  letter-spacing: .2px;
}

.top3-profit{
  font-weight: 800;
  text-align:right;
  white-space: nowrap;
}

.top3-profit .unit{
  font-weight: 700;
  opacity: .9;
}

.top3-route{
  opacity: .95;
  line-height: 1.25;
}

.top3-route .arrow{
  opacity: .85;
}

.top3-meta{
  display:flex;
  align-items:center;
  justify-content:space-between;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 2px;
}

.top3-pill{
  display:inline-flex;
  align-items:center;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid rgba(231,236,255,.12);
  background: rgba(0,0,0,.18);
  font-size: 12px;
  line-height: 1;
  white-space: nowrap;
}

.top3-stab{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  margin-left: auto;
}

.stab-label{
  font-size: 12px;
  opacity: .85;
}


/* --- Goods search clear button (Fret) --- */
.search-field{
  display:flex;
  align-items:center;
  gap:10px;
}
.btn-icon{
  width:34px;
  height:34px;
  min-width:34px;
  border-radius:999px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  line-height:1;
  font-weight:800;
  font-size:18px;
  cursor:pointer;
}
.btn-ghost.btn-icon{
  background:rgba(231,236,255,.08);
  border:1px solid rgba(231,236,255,.14);
  color:rgba(231,236,255,.92);
}
.btn-ghost.btn-icon:hover{
  background:rgba(231,236,255,.12);
  border-color:rgba(0,229,255,.35);
}

/* ============================================================
   V1.13.24 – Masquage sécurisé: "Temps max boucle"
   IMPORTANT: on ne supprime pas le champ du DOM (dépendances JS),
   on le masque uniquement (aucun impact layout).
============================================================ */
#advMaxLoopField{
  display:none !important;
}


/* ------------------------------------------------------------
   V1.13.61 — UEX cooldown banner (Top 3 area)
------------------------------------------------------------ */
.uex-cooldown{
  padding:10px 12px;
  border:1px dashed rgba(231,236,255,.18);
  border-radius:12px;
  color:rgba(231,236,255,.88);
  background:rgba(0,0,0,.14);
}
.uex-cooldown .cd-time{
  font-variant-numeric: tabular-nums;
  font-weight:700;
}


/* ============================================================
   V1.13.61 — Top 3 controls (Calculer + !)
   ============================================================ */
.subhead-top3 .subhead-actions{
  display:flex;
  gap:10px;
  align-items:center;
}
.info-dot{
  width:28px;
  height:28px;
  border-radius:999px;
  border:1px solid rgba(231,236,255,.20);
  background:rgba(0,0,0,.18);
  color:rgba(231,236,255,.92);
  font-weight:800;
  line-height:1;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.info-dot:hover{ filter:brightness(1.08); }
.info-panel{
  margin:10px 0 14px 0;
  border:1px solid rgba(231,236,255,.14);
  background:rgba(0,0,0,.14);
  border-radius:14px;
  padding:12px 12px;
}
.info-panel.is-hidden{ display:none; }
.info-title{
  font-weight:800;
  margin-bottom:8px;
}
.info-list{
  margin:0;
  padding-left:18px;
}
.info-list li{ margin:6px 0; color:rgba(231,236,255,.86); }


/* ============================================================
   V1.13.62 — "!" tooltip (mouse hover) + cyan accent next to title
   ============================================================ */
.subhead-title{
  display:inline-flex;
  gap:10px;
  align-items:center;
}
.info-dot-inline{
  position:relative;
  width:24px;
  height:24px;
  border-radius:999px;
  border:1px solid rgba(0, 229, 255, .55);
  background:rgba(0, 229, 255, .08);
  color:rgba(0, 229, 255, .95);
  font-weight:900;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  cursor:help;
  user-select:none;
}
.info-dot-inline:hover{
  filter:brightness(1.08);
  box-shadow:0 0 0 2px rgba(0, 229, 255, .12);
}
.info-dot-inline::after{
  content:attr(data-tip);
  position:absolute;
  left:50%;
  top:calc(100% + 10px);
  transform:translateX(-50%);
  width:min(520px, 70vw);
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(231,236,255,.16);
  background:rgba(0,0,0,.78);
  color:rgba(231,236,255,.92);
  font-weight:600;
  line-height:1.35;
  white-space:normal;
  opacity:0;
  pointer-events:none;
  transition:opacity .12s ease;
  z-index:50;
}
.info-dot-inline:hover::after{ opacity:1; }


/* ============================================================
   V1.13.63 — Advanced actions: move "Calculer" next to Reset
   ============================================================ */
.advanced-actions{
  display:flex;
  gap:12px;
  justify-content:space-between;
}
.advanced-actions .btn{
  flex:1;
}

/* ============================================================
   V1.13.63 — Structured tooltip for Top 3 "!"
   (replaces legacy data-tip ::after)
   ============================================================ */
.info-dot-inline::after{
  content: none !important;
  display:none !important;
}

.info-dot-inline{
  position:relative;
  z-index:6000;
}

.info-dot-inline .info-tooltip{
  position:absolute;
  left:50%;
  top:calc(100% + 10px);
  transform:translateX(-50%);
  width:min(520px, 70vw);
  padding:12px 12px;
  border-radius:12px;
  border:1px solid rgba(231,236,255,.16);
  background:rgba(0,0,0,.82);
  color:rgba(231,236,255,.92);
  font-weight:600;
  line-height:1.35;
  white-space:normal;

  opacity:0;
  pointer-events:none;
  transition:opacity .12s ease, transform .12s ease;
  z-index:6000;
}

.info-dot-inline:hover .info-tooltip,
.info-dot-inline:focus .info-tooltip,
.info-dot-inline:focus-within .info-tooltip{
  opacity:1;
  transform:translateX(-50%) translateY(0);
  pointer-events:auto;
}

.info-tooltip-title{
  font-weight:900;
  margin-bottom:8px;
}

.info-tooltip-list{
  margin:0;
  padding-left:18px;
}
.info-tooltip-list li{
  margin:6px 0;
  color:rgba(231,236,255,.88);
}
.info-tooltip-list b{
  font-weight:900;
}

/* Mobile: keep tooltip readable */
@media (max-width: 520px){
  .info-dot-inline .info-tooltip{
    left:0;
    transform:none;
    width:min(520px, 86vw);
  }
  .info-dot-inline:hover .info-tooltip,
  .info-dot-inline:focus .info-tooltip,
  .info-dot-inline:focus-within .info-tooltip{
    transform:none;
  }
}


/* V1.13.66 — Structured info popover content */
.info-grid{ display:flex; flex-direction:column; gap:10px; }
.info-row{ display:grid; grid-template-columns: 120px 1fr; gap:10px; align-items:start; }
.info-k{ font-weight:700; color: var(--text); }
.info-v{ color: var(--muted); line-height:1.35; }
@media (max-width: 520px){
  .info-row{ grid-template-columns: 1fr; }
}

/* V1.13.66 — Context actions row (Refresh routes + Reset) */
.context-actions{
  display:flex;
  gap:10px;
  align-items:center;
}
.context-actions .btn{ flex:1; }


/* Terminal suggestions (custom, because <datalist> is unreliable with our glass/transform layout) */
.field.term-field { position: relative; }

.term-suggest{
  position: absolute;
  top: calc(100% + 6px);
  left: 0;
  right: 0;
  z-index: 99999;
  background: rgba(0,0,0,0.65);
  border: 1px solid rgba(0,255,255,0.16);
  border-radius: 12px;
  padding: 6px;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 18px 40px rgba(0,0,0,0.35);
}

.term-suggest.is-hidden{ display:none; }

.term-suggest .term-item{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  width: 100%;
  border: 0;
  border-radius: 10px;
  padding: 8px 10px;
  background: rgba(255,255,255,0.06);
  color: rgba(255,255,255,0.92);
  cursor: pointer;
  text-align: left;
}

.term-suggest .term-item:hover,
.term-suggest .term-item:focus{
  outline: none;
  background: rgba(0,255,255,0.10);
}

.term-suggest .term-item .term-main{
  font-weight: 700;
  letter-spacing: 0.2px;
}

.term-suggest .term-item .term-meta{
  font-size: 12px;
  opacity: 0.85;
  white-space: nowrap;
}

.term-suggest .term-empty{
  padding: 8px 10px;
  opacity: 0.8;
  font-size: 13px;
}



/* ------------------------------------------------------------
   ON-DEMAND TERMINAL SUGGESTIONS (avoid double dropdown overlap)
   ------------------------------------------------------------ */
.term-input-wrap{
  position: relative;
  display: flex;
  align-items: center;
  gap: 10px;
}

.term-input-wrap > input{
  flex: 1 1 auto;
}

.term-suggest-toggle{
  flex: 0 0 auto;
  height: 42px;
  min-width: 44px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.18);
  color: rgba(255,255,255,0.92);
  cursor: pointer;
  font-weight: 700;
  line-height: 1;
  user-select: none;
}
.term-suggest-toggle:hover{
  background: rgba(0,0,0,0.28);
}
.term-suggest-toggle:active{
  transform: translateY(1px);
}
